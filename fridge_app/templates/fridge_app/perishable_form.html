{% extends 'base.html' %}

{% block content %}
  {% if object %}
    <h1>Edit <span class="blue-text">{{ object.name }}</span></h1>
  {% else %}
    <h1>Add Perishable Item</h1>
  {% endif %}
  <!-- Leaving the action empty makes the form post to the same url used to display it -->
  <form action="" method="post">
    <!-- Django requires the following for security purposes -->
    {% csrf_token %}
    <table>
      <!-- Render the inputs inside of <tr>s & <td>s -->
      {{ form.as_table }}
    </table>
    <input type="submit" value="Submit" class="btn">
  </form>


<script>
  const dateEl = document.getElementById('id_expiration');
  // M is Materialize's global variable
  M.Datepicker.init(dateEl, {
    format: 'yyyy-mm-dd',
    defaultDate: new Date(),
    setDefaultDate: true,
    autoClose: true
  });

  //  additional JS to initialize select below
  const selectEl = document.getElementById('id_category');
  M.FormSelect.init(selectEl);
</script>
{% endblock %}
